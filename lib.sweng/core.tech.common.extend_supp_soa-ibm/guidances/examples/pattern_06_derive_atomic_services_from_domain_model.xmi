<?xml version="1.0" encoding="UTF-8"?>
<org.eclipse.epf.uma:GuidanceDescription xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:org.eclipse.epf.uma="http://www.eclipse.org/epf/uma/1.0.6/uma.ecore" xmlns:epf="http://www.eclipse.org/epf" epf:version="1.5.1" xmlns:rmc="http://www.ibm.com/rmc" rmc:version="7.5.1" xmi:id="-rUoN3Sssx1g3goS3W4yWCw" name="pattern_06_derive_atomic_services_from_domain_model,_pyz_EIVSEd6lYIxdP6AkQg" guid="-rUoN3Sssx1g3goS3W4yWCw" changeDate="2009-10-29T08:14:13.125-0700" version="7.5.0">
  <mainDescription>&lt;p>&#xD;
    &lt;font size=&quot;4&quot;>&lt;strong>Study the Domain Model&lt;/strong>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
    In this example, we consider a domain model for a servicing and sales domain.&amp;nbsp; The preliminary domain model is&#xD;
    shown below.&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
    &lt;strong>Figure 1.&amp;nbsp; Preliminary domain model&lt;/strong>&amp;nbsp; &lt;img height=&quot;470&quot; alt=&quot;&quot;     src=&quot;./resources/study_domain_model_1.jpg&quot; width=&quot;595&quot; />&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
    For simplicity, attributes are not&amp;nbsp;shown here.&amp;nbsp; This is a simple model -- little is shown, other than&#xD;
    association relations.&amp;nbsp; Upon further study, the model is refined to show the following relationships and&#xD;
    multiplicities:&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
    &lt;strong>Figure 2.&amp;nbsp; Domain model refined with relationships and multiplicities&lt;/strong>&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
    &amp;nbsp; &lt;img height=&quot;470&quot; alt=&quot;&quot; src=&quot;./resources/study_domain_model_2.jpg&quot; width=&quot;595&quot; />&amp;nbsp;&amp;nbsp;&#xD;
&lt;/p>&#xD;
&lt;p>&#xD;
    The major changes here reflect the following decisions and understandings:&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;font face=&quot;Helvetica&quot; size=&quot;2&quot;>&lt;font face=&quot;Helvetica&quot; size=&quot;2&quot;>The association between&lt;/font>&lt;/font> &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>AccountApplication and Customer&lt;/font>&lt;/font> &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>should be a shared aggregation, as an&#xD;
    instance of account application has one or more instances of customer.&amp;nbsp; Given that a customer can be related to&#xD;
    many account applications, it would not be appropriate for this to be a composite aggregation.&amp;nbsp; In that case,&#xD;
    deleting the account application would delete the customer -- and that is not the desired result!&lt;/font>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>The same holds true for the association between&lt;/font>&lt;/font> &lt;font size=&quot;2&quot;>&lt;font ize=&quot;2&quot;>CustomerAccount and Customer&lt;/font>&lt;/font>&lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>.&lt;/font>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    The associated instances of AccountApplication and&amp;nbsp;CustomerAccount are required to be associated with the same&#xD;
    instances of Customer.&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>The association between&lt;/font>&lt;/font> &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>Customer and Address&lt;/font>&lt;/font> &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>should be a shared aggregation, as an instance of a&#xD;
    customer would have one to many&amp;nbsp;instances of an address. However, more than one instance of customer can be&#xD;
    related to the same address and vice versa.&lt;/font>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>The association between&lt;/font>&lt;/font> &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>AccountApplication and Product&lt;/font>&lt;/font> &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>should be a shared aggregation, as an instance of an&#xD;
    account application would have one or more instances of product. However, more than one instance of account application&#xD;
    can be related to the same product.&lt;/font>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>Again, the same holds true for the association between&lt;/font>&lt;/font> &lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>CustomerAccount and Product&lt;/font>&lt;/font>&lt;font size=&quot;2&quot;>&lt;font size=&quot;2&quot;>.&lt;/font>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;font size=&quot;4&quot;>&lt;strong>Identify Data Elements with Strong Affinities&lt;/strong>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    From examining the above domain model, we see that CustomerAccount is the &quot;root&quot; of a tree of strong relationships that&#xD;
    includes AccountApplication, Customer, Product, and Address.&amp;nbsp; Per the next diagram, we identify that group of five&#xD;
    elements as an affinity group.&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;strong>Figure 3.&amp;nbsp; Domain model with a defined affinity group&lt;/strong>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &amp;nbsp;&amp;nbsp;&lt;img height=&quot;470&quot; alt=&quot;&quot; src=&quot;./resources/identify_affinity_groups.jpg&quot; width=&quot;595&quot; />&amp;nbsp;&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;strong>&lt;font size=&quot;4&quot;>Map&amp;nbsp;Information Services to Each Domain Type&lt;/font>&lt;/strong>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    We would identify a candidate service for each of the seven domain types in the above model.&amp;nbsp; These nominally&#xD;
    would be used to provide access to individual instances of each type.&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;font size=&quot;4&quot;>&lt;strong>Map&amp;nbsp;Information Services to Affinity Groups&lt;/strong>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    We also would identify a candidate service for the CustomerAccount affinity group. This would provide access to the&#xD;
    network of instances that comprise an instance of the affinity group.&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    &lt;font size=&quot;4&quot;>&lt;strong>Update Candidate Service Portfolio and Service Hierarchy&lt;/strong>&lt;/font>&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    The eight new candidate services would be added to the portfolio and they would be positioned within the service&#xD;
    hierarchy.&#xD;
&lt;/p>&#xD;
&lt;p align=&quot;left&quot;>&#xD;
    Certainly, we would need to add some supplemental documentation to further describe the new candidate services.&amp;nbsp;&#xD;
    For example, one or more&amp;nbsp;new diagrams could be created, which would show the mappings between the new SoaML&#xD;
    Capabilities (candidate services) and the domain elements they manage.&#xD;
&lt;/p></mainDescription>
</org.eclipse.epf.uma:GuidanceDescription>
